function next_progress_bar_v2() {
  document.querySelectorAll(".next-progress-bar-v2").forEach((progressBar) => {
    const scrollProgress = progressBar;
    const gradientColors = progressBar.getAttribute("data-gradient-colors");
    if (gradientColors) {
      const colors = gradientColors
        .split("next11")
        .filter((color) => color.trim() !== "");
      const gradient = `linear-gradient(to right, ${colors.join(", ")})`;
      progressBar.style.background = gradient;
    }
    gsap.set(scrollProgress, { transformOrigin: "left center" });
    let currentAnimation;
    function updateProgress() {
      const maxScroll =
        document.documentElement.scrollHeight - window.innerHeight;
      const progress = window.scrollY / maxScroll;
      if (currentAnimation) {
        currentAnimation.kill();
      }
      currentAnimation = gsap.to(scrollProgress, {
        scaleX: progress,
        duration: parseFloat(progressBar.getAttribute("data-duration")),
        ease: progressBar.getAttribute("data-ease"),
      });
    }
    window.addEventListener("scroll", updateProgress);
    updateProgress();
  });
}
document.addEventListener("DOMContentLoaded", function (t) {
  bricksIsFrontend && next_progress_bar_v2();
});
