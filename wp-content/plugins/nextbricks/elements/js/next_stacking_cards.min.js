function next_stacking_cards() {
  document.querySelectorAll(".next-stacking-cards").forEach((stackingCards) => {
    const contentElements = [
      ...stackingCards.querySelectorAll(".next-stacking-cards__card"),
    ];
    const totalContentElements = contentElements.length;
    var finalBrightness = stackingCards.getAttribute("data-final-brightness");
    var varScale = stackingCards.getAttribute("data-scale");
    var varBorderRadius = stackingCards.getAttribute("data-border-radius");
    var varStart = stackingCards.getAttribute("data-start");
    var varEnd = stackingCards.getAttribute("data-end");
    var varEasing = stackingCards.getAttribute("data-easing");
    contentElements.forEach((el, position) => {
      const isLast = position === totalContentElements - 1;
      gsap
        .timeline({
          scrollTrigger: {
            trigger: el,
            start: varStart,
            end: varEnd,
            scrub: !0,
          },
        })
        .to(
          el,
          {
            ease: varEasing,
            startAt: { filter: `brightness(100%)` },
            filter: isLast
              ? "none"
              : `brightness(${parseFloat(finalBrightness)}%)`,
            scale: parseFloat(varScale),
            borderRadius: parseFloat(varBorderRadius),
          },
          0
        );
    });
  });
}
document.addEventListener("DOMContentLoaded", function (t) {
  bricksIsFrontend && next_stacking_cards();
});
