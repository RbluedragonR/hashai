function next_cursor_slide() {
  var isBricks = window.location.href.includes("brickspreview");
  document.querySelectorAll(".next-cursor-slide").forEach((cursorSlide) => {
    if (isBricks && cursorSlide.getAttribute("data-disable-builder") == "1")
      return;
    if (
      !window.matchMedia("(pointer:fine)").matches &&
      cursorSlide.getAttribute("data-disable-touch-devices") == "1"
    )
      return;
    var transform = cursorSlide.querySelector(".next-cursor-slide__transform");
    if (cursorSlide.getAttribute("data-target") != "") {
      var targets = document.querySelectorAll(
        cursorSlide.getAttribute("data-target")
      );
    }
    if (targets && targets.length > 0) {
      targets.forEach((target, index) => {
        target.addEventListener("mouseenter", () => {
          transform.style.top = `${-100 * index}%`;
          cursorSlide.classList.remove("next-cursor-slide--closed");
          cursorSlide.classList.add("next-cursor-slide--opened");
        });
        target.addEventListener("mouseleave", (event) => {
          if (
            !event.relatedTarget ||
            !event.relatedTarget.closest(".project")
          ) {
            cursorSlide.classList.remove("next-cursor-slide--opened");
            cursorSlide.classList.add("next-cursor-slide--closed");
          }
          transform.style.top = "0";
        });
      });
      let varDuration = parseFloat(
        cursorSlide.getAttribute("data-movement-duration")
      );
      let varEase = cursorSlide.getAttribute("data-movement-ease");
      let xMoveContainer = gsap.quickTo(cursorSlide, "left", {
        duration: varDuration,
        ease: varEase,
      });
      let yMoveContainer = gsap.quickTo(cursorSlide, "top", {
        duration: varDuration,
        ease: varEase,
      });
      document.addEventListener("mousemove", (e) => {
        xMoveContainer(e.clientX);
        yMoveContainer(e.clientY);
      });
    }
  });
}
document.addEventListener("DOMContentLoaded", function (t) {
  bricksIsFrontend && next_cursor_slide();
});
