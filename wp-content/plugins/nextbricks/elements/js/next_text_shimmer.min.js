function next_text_shimmer() {
  var isBricks = window.location.href.includes("brickspreview");
  document.querySelectorAll(".nb-text-shimmer__inner").forEach((shimmer) => {
    shimmer.parentElement.removeAttribute("data-flickering");
    var shimmerSize =
      getComputedStyle(shimmer).getPropertyValue("--shimmer-size");
    var varDuration = parseFloat(shimmer.getAttribute("data-duration"));
    var varEase = shimmer.getAttribute("data-ease");
    var varDelayBetweenShimmers = parseFloat(
      shimmer.getAttribute("data-stagger")
    );
    var disableBuilder = parseFloat(
      shimmer.getAttribute("data-disable-builder")
    );
    if (isBricks && disableBuilder == 1) {
      return;
    }
    function animate() {
      gsap.set(shimmer, { backgroundPosition: "-100% top" });
      gsap.to(shimmer, {
        backgroundPosition: `calc(100% + ${shimmerSize}) top`,
        duration: varDuration,
        ease: varEase,
        onComplete: () => {
          gsap.delayedCall(varDelayBetweenShimmers, animate);
        },
      });
    }
    animate();
  });
}
document.addEventListener("DOMContentLoaded", function (t) {
  document.fonts.ready.then(function () {
    bricksIsFrontend && next_text_shimmer();
  });
});
